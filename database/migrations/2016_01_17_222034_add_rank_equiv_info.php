<?php

use Illuminate\Support\Arr;
use Illuminate\Database\Migrations\Migration;

class AddRankEquivInfo extends Migration
{
    use \App\Audit\MedusaAudit;

    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        // RMN is special with the A and B levels at O-6 and up
        $branch = App\Branch::where('branch', '=', 'RMN')->first();

        $equiv = [
            'RMMC'  => [
                'E-1'   => 'E-1',
                'E-2'   => 'E-2',
                'E-3'   => 'E-3',
                'E-4'   => 'E-4',
                'E-5'   => 'E-5',
                'E-6'   => 'E-6',
                'E-7'   => 'E-7',
                'E-8'   => 'E-8',
                'E-9'   => 'E-9',
                'E-10'  => 'E-10',
                'WO-1'  => 'WO-1',
                'WO-2'  => 'WO-2',
                'WO-3'  => 'WO-3',
                'WO-4'  => 'WO-4',
                'WO-5'  => 'WO-5',
                'O-1'   => 'O-1',
                'O-2'   => 'O-2',
                'O-3'   => 'O-3',
                'O-4'   => 'O-4',
                'O-5'   => 'O-5',
                'O-6-A' => 'O-6',
                'O-6-B' => 'O-6',
                'F-1'   => 'F-1',
                'F-2-A' => 'F-2',
                'F-2-B' => 'F-2',
                'F-3-A' => 'F-3',
                'F-3-B' => 'F-3',
                'F-4-A' => 'F-4',
                'F-4-B' => 'F-4',
                'F-5-A' => 'F-5',
                'F-5-B' => 'F-5',
                'F-6'   => 'F-6',
            ],
            'GSN'   => [
                'E-1'   => 'E-1',
                'E-2'   => 'E-2',
                'E-3'   => 'E-3',
                'E-4'   => 'E-4',
                'E-5'   => 'E-5',
                'E-6'   => 'E-6',
                'E-7'   => 'E-7',
                'E-8'   => 'E-8',
                'E-9'   => 'E-9',
                'E-10'  => 'E-10',
                'WO-1'  => 'WO-1',
                'WO-2'  => 'WO-2',
                'WO-3'  => 'WO-3',
                'WO-4'  => 'WO-4',
                'WO-5'  => 'WO-5',
                'O-1'   => 'O-1',
                'O-2'   => 'O-2',
                'O-3'   => 'O-3',
                'O-4'   => 'O-4',
                'O-5'   => 'O-5',
                'O-6-A' => 'O-6',
                'O-6-B' => 'O-6',
                'F-1'   => 'F-1',
                'F-2-A' => 'F-2',
                'F-2-B' => 'F-2',
                'F-3-A' => 'F-3',
                'F-3-B' => 'F-3',
                'F-4-A' => 'F-4',
                'F-4-B' => 'F-4',
                'F-5-A' => 'F-5',
                'F-5-B' => 'F-5',
                'F-6'   => 'F-6',
            ],
            'IAN'   => [
                'E-1'   => 'E-1',
                'E-2'   => 'E-2',
                'E-3'   => 'E-3',
                'E-4'   => 'E-4',
                'E-5'   => 'E-5',
                'E-6'   => 'E-6',
                'E-7'   => 'E-7',
                'E-8'   => 'E-8',
                'E-9'   => 'E-9',
                'E-10'  => 'E-10',
                'WO-1'  => 'WO-1',
                'WO-2'  => 'WO-2',
                'WO-3'  => 'WO-3',
                'WO-4'  => 'WO-4',
                'WO-5'  => 'WO-5',
                'O-1'   => 'O-1',
                'O-2'   => 'O-2',
                'O-3'   => 'O-3',
                'O-4'   => 'O-4',
                'O-5'   => 'O-5',
                'O-6-A' => 'O-6',
                'O-6-B' => 'O-6',
                'F-1'   => 'F-1',
                'F-2-A' => 'F-2',
                'F-2-B' => 'F-2',
                'F-3-A' => 'F-3',
                'F-3-B' => 'F-3',
                'F-4-A' => 'F-4',
                'F-4-B' => 'F-4',
                'F-5-A' => 'F-5',
                'F-5-B' => 'F-5',
                'F-6'   => 'F-6',
            ],
            'RHN'   => [
                'E-1'   => 'E-1',
                'E-2'   => 'E-2',
                'E-3'   => 'E-3',
                'E-4'   => 'E-4',
                'E-5'   => 'E-5',
                'E-6'   => 'E-6',
                'E-7'   => 'E-7',
                'E-8'   => 'E-8',
                'E-9'   => 'E-9',
                'E-10'  => 'E-10',
                'WO-1'  => 'WO-1',
                'WO-2'  => 'WO-2',
                'WO-3'  => 'WO-3',
                'WO-4'  => 'WO-4',
                'WO-5'  => 'WO-5',
                'O-1'   => 'O-1',
                'O-2'   => 'O-2',
                'O-3'   => 'O-3',
                'O-4'   => 'O-4',
                'O-5'   => 'O-5',
                'O-6-A' => 'O-6',
                'O-6-B' => 'O-6',
                'F-1'   => 'F-1',
                'F-2-A' => 'F-2',
                'F-2-B' => 'F-2',
                'F-3-A' => 'F-3',
                'F-3-B' => 'F-3',
                'F-4-A' => 'F-4',
                'F-4-B' => 'F-4',
                'F-5-A' => 'F-5',
                'F-5-B' => 'F-5',
                'F-6'   => 'F-5',
            ],
            'RMA'   => [
                'E-1'   => 'E-1',
                'E-2'   => 'E-2',
                'E-3'   => 'E-3',
                'E-4'   => 'E-4',
                'E-5'   => 'E-5',
                'E-6'   => 'E-6',
                'E-7'   => 'E-7',
                'E-8'   => 'E-8',
                'E-9'   => 'E-9',
                'E-10'  => 'E-10',
                'WO-1'  => 'WO-1',
                'WO-2'  => 'WO-2',
                'WO-3'  => 'WO-3',
                'WO-4'  => 'WO-4',
                'WO-5'  => 'WO-5',
                'O-1'   => 'O-1',
                'O-2'   => 'O-2',
                'O-3'   => 'O-3',
                'O-4'   => 'O-4',
                'O-5'   => 'O-5',
                'O-6-A' => 'O-6',
                'O-6-B' => 'O-6',
                'F-1'   => 'F-1',
                'F-2-A' => 'F-2',
                'F-2-B' => 'F-2',
                'F-3-A' => 'F-3',
                'F-3-B' => 'F-3',
                'F-4-A' => 'F-4',
                'F-4-B' => 'F-4',
                'F-5-A' => 'F-5',
                'F-5-B' => 'F-5',
                'F-6'   => 'F-6',
            ],
            'CIVIL' => [
                'E-1'   => 'C-1',
                'E-2'   => 'C-2',
                'E-3'   => 'C-3',
                'E-4'   => 'C-4',
                'E-5'   => 'C-5',
                'E-6'   => 'C-6',
                'E-7'   => 'C-7',
                'E-8'   => 'C-1',
                'E-9'   => 'C-1',
                'E-10'  => 'C-8',
                'WO-1'  => 'C-9',
                'WO-2'  => 'C-10',
                'WO-3'  => 'C-11',
                'WO-4'  => 'C-1',
                'WO-5'  => 'C-1',
                'O-1'   => 'C-12',
                'O-2'   => 'C-13',
                'O-3'   => 'C-14',
                'O-4'   => 'C-15',
                'O-5'   => 'C-16',
                'O-6-A' => 'C-17',
                'O-6-B' => 'C-17',
                'F-1'   => 'C-18',
                'F-2-A' => 'C-19',
                'F-2-B' => 'C-19',
                'F-3-A' => 'C-20',
                'F-3-B' => 'C-20',
                'F-4-A' => 'C-21',
                'F-4-B' => 'C-21',
                'F-5-A' => 'C-22',
                'F-5-B' => 'C-22',
                'F-6'   => 'C-23',
            ],
            'INTEL' => [
                'E-1'   => 'C-1',
                'E-2'   => 'C-2',
                'E-3'   => 'C-3',
                'E-4'   => 'C-4',
                'E-5'   => 'C-5',
                'E-6'   => 'C-6',
                'E-7'   => 'C-7',
                'E-8'   => 'C-1',
                'E-9'   => 'C-1',
                'E-10'  => 'C-8',
                'WO-1'  => 'C-9',
                'WO-2'  => 'C-10',
                'WO-3'  => 'C-11',
                'WO-4'  => 'C-1',
                'WO-5'  => 'C-1',
                'O-1'   => 'C-12',
                'O-2'   => 'C-13',
                'O-3'   => 'C-14',
                'O-4'   => 'C-15',
                'O-5'   => 'C-16',
                'O-6-A' => 'C-17',
                'O-6-B' => 'C-17',
                'F-1'   => 'C-18',
                'F-2-A' => 'C-19',
                'F-2-B' => 'C-19',
                'F-3-A' => 'C-20',
                'F-3-B' => 'C-20',
                'F-4-A' => 'C-21',
                'F-4-B' => 'C-21',
                'F-5-A' => 'C-22',
                'F-5-B' => 'C-22',
                'F-6'   => 'C-23',
            ],
            'SFS'   => [
                'E-1'   => 'C-1',
                'E-2'   => 'C-2',
                'E-3'   => 'C-3',
                'E-4'   => 'C-4',
                'E-5'   => 'C-5',
                'E-6'   => 'C-6',
                'E-7'   => 'C-7',
                'E-8'   => 'C-1',
                'E-9'   => 'C-1',
                'E-10'  => 'C-1',
                'WO-1'  => 'C-9',
                'WO-2'  => 'C-1',
                'WO-3'  => 'C-11',
                'WO-4'  => 'C-1',
                'WO-5'  => 'C-1',
                'O-1'   => 'C-12',
                'O-2'   => 'C-13',
                'O-3'   => 'C-14',
                'O-4'   => 'C-15',
                'O-5'   => 'C-16',
                'O-6-A' => 'C-17',
                'O-6-B' => 'C-17',
                'F-1'   => 'C-18',
                'F-2-A' => 'C-19',
                'F-2-B' => 'C-19',
                'F-3-A' => 'C-20',
                'F-3-B' => 'C-20',
                'F-4-A' => 'C-1',
                'F-4-B' => 'C-1',
                'F-5-A' => 'C-22',
                'F-5-B' => 'C-22',
                'F-6'   => 'C-1',
            ],
            'RMMM'  => [
                'E-1'   => 'C-1',
                'E-2'   => 'C-2',
                'E-3'   => 'C-3',
                'E-4'   => 'C-1',
                'E-5'   => 'C-1',
                'E-6'   => 'C-1',
                'E-7'   => 'C-7',
                'E-8'   => 'C-1',
                'E-9'   => 'C-1',
                'E-10'  => 'C-8',
                'WO-1'  => 'C-1',
                'WO-2'  => 'C-1',
                'WO-3'  => 'C-1',
                'WO-4'  => 'C-1',
                'WO-5'  => 'C-1',
                'O-1'   => 'C-12',
                'O-2'   => 'C-13',
                'O-3'   => 'C-14',
                'O-4'   => 'C-15',
                'O-5'   => 'C-16',
                'O-6-A' => 'C-17',
                'O-6-B' => 'C-17',
                'F-1'   => 'C-1',
                'F-2-A' => 'C-1',
                'F-2-B' => 'C-1',
                'F-3-A' => 'C-1',
                'F-3-B' => 'C-1',
                'F-4-A' => 'C-1',
                'F-4-B' => 'C-1',
                'F-5-A' => 'C-1',
                'F-5-B' => 'C-1',
                'F-6'   => 'C-1',
            ],
            'RMACS' => [
                'E-1'   => 'C-1',
                'E-2'   => 'C-2',
                'E-3'   => 'C-3',
                'E-4'   => 'C-1',
                'E-5'   => 'C-1',
                'E-6'   => 'C-6',
                'E-7'   => 'C-7',
                'E-8'   => 'C-1',
                'E-9'   => 'C-1',
                'E-10'  => 'C-8',
                'WO-1'  => 'C-9',
                'WO-2'  => 'C-1',
                'WO-3'  => 'C-1',
                'WO-4'  => 'C-1',
                'WO-5'  => 'C-1',
                'O-1'   => 'C-12',
                'O-2'   => 'C-13',
                'O-3'   => 'C-14',
                'O-4'   => 'C-15',
                'O-5'   => 'C-16',
                'O-6-A' => 'C-17',
                'O-6-B' => 'C-17',
                'F-1'   => 'C-1',
                'F-2-A' => 'C-19',
                'F-2-B' => 'C-19',
                'F-3-A' => 'C-20',
                'F-3-B' => 'C-20',
                'F-4-A' => 'C-21',
                'F-4-B' => 'C-21',
                'F-5-A' => 'C-1',
                'F-5-B' => 'C-1',
                'F-6'   => 'C-1',
            ],
        ];

        $branch['equivalent'] = $equiv;
        $branch->save();

        $this->writeAuditTrail(
            'system user',
            'update',
            'branches',
            $branch->id,
            $branch->toJson(),
            'add_rank_equiv_info'
        );

        // Now we can do the rest of the military branches

        $equiv = [
            'RMN'   => [
                'E-1'  => 'E-1',
                'E-2'  => 'E-2',
                'E-3'  => 'E-3',
                'E-4'  => 'E-4',
                'E-5'  => 'E-5',
                'E-6'  => 'E-6',
                'E-7'  => 'E-7',
                'E-8'  => 'E-8',
                'E-9'  => 'E-9',
                'E-10' => 'E-10',
                'WO-1' => 'WO-1',
                'WO-2' => 'WO-2',
                'WO-3' => 'WO-3',
                'WO-4' => 'WO-4',
                'WO-5' => 'WO-5',
                'O-1'  => 'O-1',
                'O-2'  => 'O-2',
                'O-3'  => 'O-3',
                'O-4'  => 'O-4',
                'O-5'  => 'O-5',
                'O-6'  => 'O-6-A',
                'F-1'  => 'F-1',
                'F-2'  => 'F-2-A',
                'F-3'  => 'F-3-A',
                'F-4'  => 'F-4-A',
                'F-5'  => 'F-5-A',
                'F-6'  => 'F-6',
            ],
            'RMMC'  => [
                'E-1'  => 'E-1',
                'E-2'  => 'E-2',
                'E-3'  => 'E-3',
                'E-4'  => 'E-4',
                'E-5'  => 'E-5',
                'E-6'  => 'E-6',
                'E-7'  => 'E-7',
                'E-8'  => 'E-8',
                'E-9'  => 'E-9',
                'E-10' => 'E-10',
                'WO-1' => 'WO-1',
                'WO-2' => 'WO-2',
                'WO-3' => 'WO-3',
                'WO-4' => 'WO-4',
                'WO-5' => 'WO-5',
                'O-1'  => 'O-1',
                'O-2'  => 'O-2',
                'O-3'  => 'O-3',
                'O-4'  => 'O-4',
                'O-5'  => 'O-5',
                'O-6'  => 'O-6',
                'F-1'  => 'F-1',
                'F-2'  => 'F-2',
                'F-3'  => 'F-3',
                'F-4'  => 'F-4',
                'F-5'  => 'F-5',
                'F-6'  => 'F-6',
            ],
            'GSN'   => [
                'E-1'  => 'E-1',
                'E-2'  => 'E-2',
                'E-3'  => 'E-3',
                'E-4'  => 'E-4',
                'E-5'  => 'E-5',
                'E-6'  => 'E-6',
                'E-7'  => 'E-7',
                'E-8'  => 'E-8',
                'E-9'  => 'E-9',
                'E-10' => 'E-10',
                'WO-1' => 'WO-1',
                'WO-2' => 'WO-2',
                'WO-3' => 'WO-3',
                'WO-4' => 'WO-4',
                'WO-5' => 'WO-5',
                'O-1'  => 'O-1',
                'O-2'  => 'O-2',
                'O-3'  => 'O-3',
                'O-4'  => 'O-4',
                'O-5'  => 'O-5',
                'O-6'  => 'O-6',
                'F-1'  => 'F-1',
                'F-2'  => 'F-2',
                'F-3'  => 'F-3',
                'F-4'  => 'F-4',
                'F-5'  => 'F-5',
                'F-6'  => 'F-6',
            ],
            'IAN'   => [
                'E-1'  => 'E-1',
                'E-2'  => 'E-2',
                'E-3'  => 'E-3',
                'E-4'  => 'E-4',
                'E-5'  => 'E-5',
                'E-6'  => 'E-6',
                'E-7'  => 'E-7',
                'E-8'  => 'E-8',
                'E-9'  => 'E-9',
                'E-10' => 'E-10',
                'WO-1' => 'WO-1',
                'WO-2' => 'WO-2',
                'WO-3' => 'WO-3',
                'WO-4' => 'WO-4',
                'WO-5' => 'WO-5',
                'O-1'  => 'O-1',
                'O-2'  => 'O-2',
                'O-3'  => 'O-3',
                'O-4'  => 'O-4',
                'O-5'  => 'O-5',
                'O-6'  => 'O-6',
                'F-1'  => 'F-1',
                'F-2'  => 'F-2',
                'F-3'  => 'F-3',
                'F-4'  => 'F-4',
                'F-5'  => 'F-5',
                'F-6'  => 'F-6',
            ],
            'RHN'   => [
                'E-1'  => 'E-1',
                'E-2'  => 'E-2',
                'E-3'  => 'E-3',
                'E-4'  => 'E-4',
                'E-5'  => 'E-5',
                'E-6'  => 'E-6',
                'E-7'  => 'E-7',
                'E-8'  => 'E-8',
                'E-9'  => 'E-9',
                'E-10' => 'E-10',
                'WO-1' => 'WO-1',
                'WO-2' => 'WO-2',
                'WO-3' => 'WO-3',
                'WO-4' => 'WO-4',
                'WO-5' => 'WO-5',
                'O-1'  => 'O-1',
                'O-2'  => 'O-2',
                'O-3'  => 'O-3',
                'O-4'  => 'O-4',
                'O-5'  => 'O-5',
                'O-6'  => 'O-6',
                'F-1'  => 'F-1',
                'F-2'  => 'F-2',
                'F-3'  => 'F-3',
                'F-4'  => 'F-4',
                'F-5'  => 'F-5',
                'F-6'  => 'F-6',
            ],
            'RMA'   => [
                'E-1'  => 'E-1',
                'E-2'  => 'E-2',
                'E-3'  => 'E-3',
                'E-4'  => 'E-4',
                'E-5'  => 'E-5',
                'E-6'  => 'E-6',
                'E-7'  => 'E-7',
                'E-8'  => 'E-8',
                'E-9'  => 'E-9',
                'E-10' => 'E-10',
                'WO-1' => 'WO-1',
                'WO-2' => 'WO-2',
                'WO-3' => 'WO-3',
                'WO-4' => 'WO-4',
                'WO-5' => 'WO-5',
                'O-1'  => 'O-1',
                'O-2'  => 'O-2',
                'O-3'  => 'O-3',
                'O-4'  => 'O-4',
                'O-5'  => 'O-5',
                'O-6'  => 'O-6',
                'F-1'  => 'F-1',
                'F-2'  => 'F-2',
                'F-3'  => 'F-3',
                'F-4'  => 'F-4',
                'F-5'  => 'F-5',
                'F-6'  => 'F-6',
            ],
            'CIVIL' => [
                'E-1'  => 'C-1',
                'E-2'  => 'C-2',
                'E-3'  => 'C-3',
                'E-4'  => 'C-4',
                'E-5'  => 'C-5',
                'E-6'  => 'C-6',
                'E-7'  => 'C-7',
                'E-8'  => 'C-1',
                'E-9'  => 'C-1',
                'E-10' => 'C-8',
                'WO-1' => 'C-9',
                'WO-2' => 'C-10',
                'WO-3' => 'C-11',
                'WO-4' => 'C-1',
                'WO-5' => 'C-1',
                'O-1'  => 'C-12',
                'O-2'  => 'C-13',
                'O-3'  => 'C-14',
                'O-4'  => 'C-15',
                'O-5'  => 'C-16',
                'O-6'  => 'C-17',
                'F-1'  => 'C-18',
                'F-2'  => 'C-19',
                'F-3'  => 'C-20',
                'F-4'  => 'C-21',
                'F-5'  => 'C-22',
                'F-6'  => 'C-23',
            ],
            'INTEL' => [
                'E-1'  => 'C-1',
                'E-2'  => 'C-2',
                'E-3'  => 'C-3',
                'E-4'  => 'C-4',
                'E-5'  => 'C-5',
                'E-6'  => 'C-6',
                'E-7'  => 'C-7',
                'E-8'  => 'C-1',
                'E-9'  => 'C-1',
                'E-10' => 'C-8',
                'WO-1' => 'C-9',
                'WO-2' => 'C-10',
                'WO-3' => 'C-11',
                'WO-4' => 'C-1',
                'WO-5' => 'C-1',
                'O-1'  => 'C-12',
                'O-2'  => 'C-13',
                'O-3'  => 'C-14',
                'O-4'  => 'C-15',
                'O-5'  => 'C-16',
                'O-6'  => 'C-17',
                'F-1'  => 'C-18',
                'F-2'  => 'C-19',
                'F-3'  => 'C-20',
                'F-4'  => 'C-21',
                'F-5'  => 'C-22',
                'F-6'  => 'C-23',
            ],
            'SFS'   => [
                'E-1'  => 'C-1',
                'E-2'  => 'C-2',
                'E-3'  => 'C-3',
                'E-4'  => 'C-4',
                'E-5'  => 'C-5',
                'E-6'  => 'C-6',
                'E-7'  => 'C-7',
                'E-8'  => 'C-1',
                'E-9'  => 'C-1',
                'E-10' => 'C-1',
                'WO-1' => 'C-9',
                'WO-2' => 'C-1',
                'WO-3' => 'C-11',
                'WO-4' => 'C-1',
                'WO-5' => 'C-1',
                'O-1'  => 'C-12',
                'O-2'  => 'C-13',
                'O-3'  => 'C-14',
                'O-4'  => 'C-15',
                'O-5'  => 'C-16',
                'O-6'  => 'C-17',
                'F-1'  => 'C-18',
                'F-2'  => 'C-19',
                'F-3'  => 'C-20',
                'F-4'  => 'C-1',
                'F-5'  => 'C-22',
                'F-6'  => 'C-1',
            ],
            'RMMM'  => [
                'E-1'  => 'C-1',
                'E-2'  => 'C-2',
                'E-3'  => 'C-3',
                'E-4'  => 'C-1',
                'E-5'  => 'C-1',
                'E-6'  => 'C-1',
                'E-7'  => 'C-7',
                'E-8'  => 'C-1',
                'E-9'  => 'C-1',
                'E-10' => 'C-8',
                'WO-1' => 'C-1',
                'WO-2' => 'C-1',
                'WO-3' => 'C-1',
                'WO-4' => 'C-1',
                'WO-5' => 'C-1',
                'O-1'  => 'C-12',
                'O-2'  => 'C-13',
                'O-3'  => 'C-14',
                'O-4'  => 'C-15',
                'O-5'  => 'C-16',
                'O-6'  => 'C-17',
                'F-1'  => 'C-1',
                'F-2'  => 'C-1',
                'F-3'  => 'C-1',
                'F-4'  => 'C-1',
                'F-5'  => 'C-1',
                'F-6'  => 'C-1',
            ],
            'RMACS' => [
                'E-1'  => 'C-1',
                'E-2'  => 'C-2',
                'E-3'  => 'C-3',
                'E-4'  => 'C-1',
                'E-5'  => 'C-1',
                'E-6'  => 'C-6',
                'E-7'  => 'C-7',
                'E-8'  => 'C-1',
                'E-9'  => 'C-1',
                'E-10' => 'C-8',
                'WO-1' => 'C-9',
                'WO-2' => 'C-1',
                'WO-3' => 'C-1',
                'WO-4' => 'C-1',
                'WO-5' => 'C-1',
                'O-1'  => 'C-12',
                'O-2'  => 'C-13',
                'O-3'  => 'C-14',
                'O-4'  => 'C-15',
                'O-5'  => 'C-16',
                'O-6'  => 'C-17',
                'F-1'  => 'C-1',
                'F-2'  => 'C-19',
                'F-3'  => 'C-20',
                'F-4'  => 'C-21',
                'F-5'  => 'C-1',
                'F-6'  => 'C-1',
            ],
        ];

        foreach (['RMMC', 'GSN', 'IAN', 'RHN', 'RMA'] as $value) {
            $branch = App\Branch::where('branch', '=', $value)->first();

            $branch['equivalent'] = Arr::except($equiv, [$value]);
            $branch->save();

            $this->writeAuditTrail(
                'system user',
                'update',
                'branches',
                $branch->id,
                $branch->toJson(),
                'add_rank_equiv_info'
            );
        }

        // Now let's do the civilian branches

        $equiv = [
            'RMN'   => [
                'C-1'  => 'E-1',
                'C-2'  => 'E-2',
                'C-3'  => 'E-3',
                'C-4'  => 'E-4',
                'C-5'  => 'E-5',
                'C-6'  => 'E-6',
                'C-7'  => 'E-7',
                'C-8'  => 'E-10',
                'C-9'  => 'WO-1',
                'C-10' => 'WO-2',
                'C-11' => 'WO-3',
                'C-12' => 'O-1',
                'C-13' => 'O-2',
                'C-14' => 'O-3',
                'C-15' => 'O-4',
                'C-16' => 'O-5',
                'C-17' => 'O-6-B',
                'C-18' => 'F-1',
                'C-19' => 'F-2-A',
                'C-20' => 'F-3-A',
                'C-21' => 'F-4-A',
                'C-22' => 'F-5-A',
                'C-23' => 'F-6',
            ],
            'RMMC'  => [
                'C-1'  => 'E-1',
                'C-2'  => 'E-2',
                'C-3'  => 'E-3',
                'C-4'  => 'E-4',
                'C-5'  => 'E-5',
                'C-6'  => 'E-6',
                'C-7'  => 'E-7',
                'C-8'  => 'E-10',
                'C-9'  => 'WO-1',
                'C-10' => 'WO-2',
                'C-11' => 'WO-3',
                'C-12' => 'O-1',
                'C-13' => 'O-2',
                'C-14' => 'O-3',
                'C-15' => 'O-4',
                'C-16' => 'O-5',
                'C-17' => 'O-6',
                'C-18' => 'F-1',
                'C-19' => 'F-2',
                'C-20' => 'F-3',
                'C-21' => 'F-4',
                'C-22' => 'F-5',
                'C-23' => 'F-6',
            ],
            'GSN'   => [
                'C-1'  => 'E-1',
                'C-2'  => 'E-2',
                'C-3'  => 'E-3',
                'C-4'  => 'E-4',
                'C-5'  => 'E-5',
                'C-6'  => 'E-6',
                'C-7'  => 'E-7',
                'C-8'  => 'E-10',
                'C-9'  => 'WO-1',
                'C-10' => 'WO-2',
                'C-11' => 'WO-3',
                'C-12' => 'O-1',
                'C-13' => 'O-2',
                'C-14' => 'O-3',
                'C-15' => 'O-4',
                'C-16' => 'O-5',
                'C-17' => 'O-6',
                'C-18' => 'F-1',
                'C-19' => 'F-2',
                'C-20' => 'F-3',
                'C-21' => 'F-4',
                'C-22' => 'F-5',
                'C-23' => 'F-6',
            ],
            'IAN'   => [
                'C-1'  => 'E-1',
                'C-2'  => 'E-2',
                'C-3'  => 'E-3',
                'C-4'  => 'E-4',
                'C-5'  => 'E-5',
                'C-6'  => 'E-6',
                'C-7'  => 'E-7',
                'C-8'  => 'E-10',
                'C-9'  => 'WO-1',
                'C-10' => 'WO-2',
                'C-11' => 'WO-3',
                'C-12' => 'O-1',
                'C-13' => 'O-2',
                'C-14' => 'O-3',
                'C-15' => 'O-4',
                'C-16' => 'O-5',
                'C-17' => 'O-6',
                'C-18' => 'F-1',
                'C-19' => 'F-2',
                'C-20' => 'F-3',
                'C-21' => 'F-4',
                'C-22' => 'F-5',
                'C-23' => 'F-6',
            ],
            'RHN'   => [
                'C-1'  => 'E-1',
                'C-2'  => 'E-2',
                'C-3'  => 'E-3',
                'C-4'  => 'E-4',
                'C-5'  => 'E-5',
                'C-6'  => 'E-6',
                'C-7'  => 'E-7',
                'C-8'  => 'E-10',
                'C-9'  => 'WO-1',
                'C-10' => 'WO-2',
                'C-11' => 'WO-3',
                'C-12' => 'O-1',
                'C-13' => 'O-2',
                'C-14' => 'O-3',
                'C-15' => 'O-4',
                'C-16' => 'O-5',
                'C-17' => 'O-6',
                'C-18' => 'F-1',
                'C-19' => 'F-2',
                'C-20' => 'F-3',
                'C-21' => 'F-4',
                'C-22' => 'F-5',
                'C-23' => 'F-5',
            ],
            'RMA'   => [
                'C-1'  => 'E-1',
                'C-2'  => 'E-2',
                'C-3'  => 'E-3',
                'C-4'  => 'E-4',
                'C-5'  => 'E-5',
                'C-6'  => 'E-6',
                'C-7'  => 'E-7',
                'C-8'  => 'E-10',
                'C-9'  => 'WO-1',
                'C-10' => 'WO-2',
                'C-11' => 'WO-3',
                'C-12' => 'O-1',
                'C-13' => 'O-2',
                'C-14' => 'O-3',
                'C-15' => 'O-4',
                'C-16' => 'O-5',
                'C-17' => 'O-6',
                'C-18' => 'F-1',
                'C-19' => 'F-2',
                'C-20' => 'F-3',
                'C-21' => 'F-4',
                'C-22' => 'F-5',
                'C-23' => 'F-6',
            ],
            'CIVIL' => [
                'C-1'  => 'C-1',
                'C-2'  => 'C-2',
                'C-3'  => 'C-3',
                'C-4'  => 'C-4',
                'C-5'  => 'C-5',
                'C-6'  => 'C-6',
                'C-7'  => 'C-7',
                'C-8'  => 'C-8',
                'C-9'  => 'C-9',
                'C-10' => 'C-10',
                'C-11' => 'C-11',
                'C-12' => 'C-12',
                'C-13' => 'C-13',
                'C-14' => 'C-14',
                'C-15' => 'C-15',
                'C-16' => 'C-16',
                'C-17' => 'C-17',
                'C-18' => 'C-18',
                'C-19' => 'C-19',
                'C-20' => 'C-20',
                'C-21' => 'C-21',
                'C-22' => 'C-22',
                'C-23' => 'C-23',
            ],
            'INTEL' => [
                'C-1'  => 'C-1',
                'C-2'  => 'C-2',
                'C-3'  => 'C-3',
                'C-4'  => 'C-4',
                'C-5'  => 'C-5',
                'C-6'  => 'C-6',
                'C-7'  => 'C-7',
                'C-8'  => 'C-8',
                'C-9'  => 'C-9',
                'C-10' => 'C-10',
                'C-11' => 'C-11',
                'C-12' => 'C-12',
                'C-13' => 'C-13',
                'C-14' => 'C-14',
                'C-15' => 'C-15',
                'C-16' => 'C-16',
                'C-17' => 'C-17',
                'C-18' => 'C-18',
                'C-19' => 'C-19',
                'C-20' => 'C-20',
                'C-21' => 'C-21',
                'C-22' => 'C-22',
                'C-23' => 'C-23',
            ],
            'SFS'   => [
                'C-1'  => 'C-1',
                'C-2'  => 'C-2',
                'C-3'  => 'C-3',
                'C-4'  => 'C-4',
                'C-5'  => 'C-5',
                'C-6'  => 'C-6',
                'C-7'  => 'C-7',
                'C-8'  => 'C-1',
                'C-9'  => 'C-9',
                'C-10' => 'C-1',
                'C-11' => 'C-11',
                'C-12' => 'C-12',
                'C-13' => 'C-13',
                'C-14' => 'C-14',
                'C-15' => 'C-15',
                'C-16' => 'C-16',
                'C-17' => 'C-17',
                'C-18' => 'C-18',
                'C-19' => 'C-19',
                'C-20' => 'C-20',
                'C-21' => 'C-1',
                'C-22' => 'C-22',
                'C-23' => 'C-1',
            ],
            'RMMM'  => [
                'C-1'  => 'C-1',
                'C-2'  => 'C-2',
                'C-3'  => 'C-3',
                'C-4'  => 'C-1',
                'C-5'  => 'C-1',
                'C-6'  => 'C-1',
                'C-7'  => 'C-7',
                'C-8'  => 'C-8',
                'C-9'  => 'C-1',
                'C-10' => 'C-1',
                'C-11' => 'C-1',
                'C-12' => 'C-12',
                'C-13' => 'C-13',
                'C-14' => 'C-14',
                'C-15' => 'C-15',
                'C-16' => 'C-16',
                'C-17' => 'C-17',
                'C-18' => 'C-1',
                'C-19' => 'C-1',
                'C-20' => 'C-1',
                'C-21' => 'C-1',
                'C-22' => 'C-1',
                'C-23' => 'C-1',
            ],
            'RMACS' => [
                'C-1'  => 'C-1',
                'C-2'  => 'C-2',
                'C-3'  => 'C-3',
                'C-4'  => 'C-1',
                'C-5'  => 'C-1',
                'C-6'  => 'C-6',
                'C-7'  => 'C-7',
                'C-8'  => 'C-8',
                'C-9'  => 'C-9',
                'C-10' => 'C-1',
                'C-11' => 'C-1',
                'C-12' => 'C-12',
                'C-13' => 'C-13',
                'C-14' => 'C-14',
                'C-15' => 'C-15',
                'C-16' => 'C-16',
                'C-17' => 'C-17',
                'C-18' => 'C-1',
                'C-19' => 'C-19',
                'C-20' => 'C-20',
                'C-21' => 'C-21',
                'C-22' => 'C-1',
                'C-23' => 'C-1',
            ],
        ];

        foreach (['CIVIL', 'INTEL', 'SFS', 'RMMM', 'RMACS'] as $value) {
            $branch = App\Branch::where('branch', '=', $value)->first();

            $branch['equivalent'] = Arr::except($equiv, [$value]);
            $branch->save();

            $this->writeAuditTrail(
                'system user',
                'update',
                'branches',
                $branch->id,
                $branch->toJson(),
                'add_rank_equiv_info'
            );
        }
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        foreach (App\Branch::all() as $branch) {
            $branch->equivalent = null;
            $branch->save();

            $this->writeAuditTrail(
                'system user',
                'delete',
                'branches',
                $branch->id,
                $branch->toJson(),
                'add_rank_equiv_info (rollback)'
            );
        }
    }
}
